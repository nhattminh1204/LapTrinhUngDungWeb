@using Product_Management.ViewModel
@model ProductViewModel

<h1 class="mb-4 text-primary">Quản lý sản phẩm</h1>

<div class="d-flex justify-content-between align-items-center mb-3 gap-2">
    <!-- Chọn danh mục -->
    <div style="min-width: 200px;">
        <select id="category" class="form-select">
            <option value="0">Tất cả</option>
            @if (Model.Categories != null)
            {
                foreach (var cat in Model.Categories)
                {
                    <option value="@cat.Id">@cat.Name</option>
                }
            }
        </select>
    </div>

    <!-- Ô tìm kiếm + nút search -->
    <div class="input-group flex-grow-1">
        <input onkeypress="onEnter(event)" type="text" class="form-control" id="keyword" placeholder="Nhập từ khóa cần tìm...">
        <button onclick="onSearch()" class="btn btn-outline-success" type="button" title="Tìm kiếm">
            <i class="fa-solid fa-magnifying-glass"></i>
        </button>
    </div>

    <!-- Nút thêm -->
    <div>
        <button data-bs-toggle="modal" data-bs-target="#createModal" class="btn btn-primary">
            <i class="fa-solid fa-plus me-1"></i>
        </button>
    </div>
</div>


<div id="products">
    <partial name="_List" model="@Model"/>
</div>

<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <partial name="_Create" model="@Model" />
    </div> 
</div>

<div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <form method="post">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Chỉnh sửa sản phẩm</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label class="form-label fw-bold text-dark">Danh mục</label>
                    <select class="form-select">
                        <option>Điện thoại di động</option>
                        <option>Linh kiện</option>
                        <option>Ốp lưng</option>
                    </select>
                    <br />

                    <div class="mb-3">
                        <label class="form-label fw-bold text-dark">Tên sản phẩm <span class="text-danger">*</span></label>
                        <input value="Iphone 11" class="form-control" type="text" placeholder="Nhập tên sản phẩm..." required />
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold text-dark">Giá <span class="text-danger">*</span></label>
                        <input value="5.000" class="form-control" type="number" step="0.1" placeholder="Nhập tên sản phẩm..." required />
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold text-dark">Số lượng <span class="text-danger">*</span></label>
                        <input value="Iphone 11" class="form-control" type="text" placeholder="Nhập tên sản phẩm..." required />
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold text-dark">Hình ảnh <span class="text-danger">*</span></label>
                        <input value="Iphone 11" class="form-control" type="text" placeholder="Nhập tên sản phẩm..." required />
                    </div>
                </div>
                <div class="modal-footer"
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Bỏ qua</button>
                    <button type="submit" class="btn btn-primary">Đồng ý</button>
                </div>
            </div>
        </form>
    </div>
</div>